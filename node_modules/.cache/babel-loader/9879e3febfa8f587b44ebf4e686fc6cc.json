{"ast":null,"code":"'use strict';\n/*\r\n *\tjQuery dotdotdot 1.7.0\r\n *\r\n *\tCopyright (c) Fred Heusschen\r\n *\twww.frebsite.nl\r\n *\r\n *\tPlugin website:\r\n *\tdotdotdot.frebsite.nl\r\n *\r\n *\tLicensed under the MIT license.\r\n *\thttp://en.wikipedia.org/wiki/MIT_License\r\n */\n\nvar $ = require('jquery');\n\nmodule.exports = function ($, undef) {\n  if ($.fn.dotdotdot) {\n    return;\n  }\n\n  $.fn.dotdotdot = function (o) {\n    if (this.length == 0) {\n      $.fn.dotdotdot.debug('No element found for \"' + this.selector + '\".');\n      return this;\n    }\n\n    if (this.length > 1) {\n      return this.each(function () {\n        $(this).dotdotdot(o);\n      });\n    }\n\n    var $dot = this;\n\n    if ($dot.data('dotdotdot')) {\n      $dot.trigger('destroy.dot');\n    }\n\n    $dot.data('dotdotdot-style', $dot.attr('style') || '');\n    $dot.css('word-wrap', 'break-word');\n\n    if ($dot.css('white-space') === 'nowrap') {\n      $dot.css('white-space', 'normal');\n    }\n\n    $dot.bind_events = function () {\n      $dot.bind('update.dot', function (e, c) {\n        e.preventDefault();\n        e.stopPropagation();\n        opts.maxHeight = typeof opts.height == 'number' ? opts.height : getTrueInnerHeight($dot);\n        opts.maxHeight += opts.tolerance;\n\n        if (typeof c != 'undefined') {\n          if (typeof c == 'string' || c instanceof HTMLElement) {\n            c = $('<div />').append(c).contents();\n          }\n\n          if (c instanceof $) {\n            orgContent = c;\n          }\n        }\n\n        $inr = $dot.wrapInner('<div class=\"dotdotdot\" />').children();\n        $inr.contents().detach().end().append(orgContent.clone(true)).find('br').replaceWith('  <br />  ').end().css({\n          'height': 'auto',\n          'width': 'auto',\n          'border': 'none',\n          'padding': 0,\n          'margin': 0\n        });\n        var after = false,\n            trunc = false;\n\n        if (conf.afterElement) {\n          after = conf.afterElement.clone(true);\n          after.show();\n          conf.afterElement.detach();\n        }\n\n        if (test($inr, opts)) {\n          if (opts.wrap == 'children') {\n            trunc = children($inr, opts, after);\n          } else {\n            trunc = ellipsis($inr, $dot, $inr, opts, after);\n          }\n        }\n\n        $inr.replaceWith($inr.contents());\n        $inr = null;\n\n        if ($.isFunction(opts.callback)) {\n          opts.callback.call($dot[0], trunc, orgContent);\n        }\n\n        conf.isTruncated = trunc;\n        return trunc;\n      }).bind('isTruncated.dot', function (e, fn) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (typeof fn == 'function') {\n          fn.call($dot[0], conf.isTruncated);\n        }\n\n        return conf.isTruncated;\n      }).bind('originalContent.dot', function (e, fn) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (typeof fn == 'function') {\n          fn.call($dot[0], orgContent);\n        }\n\n        return orgContent;\n      }).bind('destroy.dot', function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        $dot.unwatch().unbind_events().contents().detach().end().append(orgContent).attr('style', $dot.data('dotdotdot-style') || '').data('dotdotdot', false);\n      });\n      return $dot;\n    }; //\t/bind_events\n\n\n    $dot.unbind_events = function () {\n      $dot.unbind('.dot');\n      return $dot;\n    }; //\t/unbind_events\n\n\n    $dot.watch = function () {\n      $dot.unwatch();\n\n      if (opts.watch == 'window') {\n        var $window = $(window),\n            _wWidth = $window.width(),\n            _wHeight = $window.height();\n\n        $window.bind('resize.dot' + conf.dotId, function () {\n          if (_wWidth != $window.width() || _wHeight != $window.height() || !opts.windowResizeFix) {\n            _wWidth = $window.width();\n            _wHeight = $window.height();\n\n            if (watchInt) {\n              clearInterval(watchInt);\n            }\n\n            watchInt = setTimeout(function () {\n              $dot.trigger('update.dot');\n            }, 100);\n          }\n        });\n      } else {\n        watchOrg = getSizes($dot);\n        watchInt = setInterval(function () {\n          if ($dot.is(':visible')) {\n            var watchNew = getSizes($dot);\n\n            if (watchOrg.width != watchNew.width || watchOrg.height != watchNew.height) {\n              $dot.trigger('update.dot');\n              watchOrg = watchNew;\n            }\n          }\n        }, 500);\n      }\n\n      return $dot;\n    };\n\n    $dot.unwatch = function () {\n      $(window).unbind('resize.dot' + conf.dotId);\n\n      if (watchInt) {\n        clearInterval(watchInt);\n      }\n\n      return $dot;\n    };\n\n    var orgContent = $dot.contents(),\n        opts = $.extend(true, {}, $.fn.dotdotdot.defaults, o),\n        conf = {},\n        watchOrg = {},\n        watchInt = null,\n        $inr = null;\n\n    if (!(opts.lastCharacter.remove instanceof Array)) {\n      opts.lastCharacter.remove = $.fn.dotdotdot.defaultArrays.lastCharacter.remove;\n    }\n\n    if (!(opts.lastCharacter.noEllipsis instanceof Array)) {\n      opts.lastCharacter.noEllipsis = $.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis;\n    }\n\n    conf.afterElement = getElement(opts.after, $dot);\n    conf.isTruncated = false;\n    conf.dotId = dotId++;\n    $dot.data('dotdotdot', true).bind_events().trigger('update.dot');\n\n    if (opts.watch) {\n      $dot.watch();\n    }\n\n    return $dot;\n  }; //\tpublic\n\n\n  $.fn.dotdotdot.defaults = {\n    'ellipsis': '... ',\n    'wrap': 'word',\n    'fallbackToLetter': true,\n    'lastCharacter': {},\n    'tolerance': 0,\n    'callback': null,\n    'after': null,\n    'height': null,\n    'watch': false,\n    'windowResizeFix': true\n  };\n  $.fn.dotdotdot.defaultArrays = {\n    'lastCharacter': {\n      'remove': [' ', '\\u3000', ',', ';', '.', '!', '?'],\n      'noEllipsis': []\n    }\n  };\n\n  $.fn.dotdotdot.debug = function (msg) {}; //\tprivate\n\n\n  var dotId = 1;\n\n  function children($elem, o, after) {\n    var $elements = $elem.children(),\n        isTruncated = false;\n    $elem.empty();\n\n    for (var a = 0, l = $elements.length; a < l; a++) {\n      var $e = $elements.eq(a);\n      $elem.append($e);\n\n      if (after) {\n        $elem.append(after);\n      }\n\n      if (test($elem, o)) {\n        $e.remove();\n        isTruncated = true;\n        break;\n      } else {\n        if (after) {\n          after.detach();\n        }\n      }\n    }\n\n    return isTruncated;\n  }\n\n  function ellipsis($elem, $d, $i, o, after) {\n    var isTruncated = false; //\tDon't put the ellipsis directly inside these elements\n\n    var notx = 'table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style'; //\tDon't remove these elements even if they are after the ellipsis\n\n    var noty = 'script, .dotdotdot-keep';\n    $elem.contents().detach().each(function () {\n      var e = this,\n          $e = $(e);\n\n      if (typeof e == 'undefined' || e.nodeType == 3 && $.trim(e.data).length == 0) {\n        return true;\n      } else if ($e.is(noty)) {\n        $elem.append($e);\n      } else if (isTruncated) {\n        return true;\n      } else {\n        $elem.append($e);\n\n        if (after) {\n          $elem[$elem.is(notx) ? 'after' : 'append'](after);\n        }\n\n        if (test($i, o)) {\n          if (e.nodeType == 3) // node is TEXT\n            {\n              isTruncated = ellipsisElement($e, $d, $i, o, after);\n            } else {\n            isTruncated = ellipsis($e, $d, $i, o, after);\n          }\n\n          if (!isTruncated) {\n            $e.detach();\n            isTruncated = true;\n          }\n        }\n\n        if (!isTruncated) {\n          if (after) {\n            after.detach();\n          }\n        }\n      }\n    });\n    return isTruncated;\n  }\n\n  function ellipsisElement($e, $d, $i, o, after) {\n    var e = $e[0];\n\n    if (!e) {\n      return false;\n    }\n\n    var txt = getTextContent(e),\n        space = txt.indexOf(' ') !== -1 ? ' ' : '\\u3000',\n        separator = o.wrap == 'letter' ? '' : space,\n        textArr = txt.split(separator),\n        position = -1,\n        midPos = -1,\n        startPos = 0,\n        endPos = textArr.length - 1; //\tOnly one word\n\n    if (o.fallbackToLetter && startPos == 0 && endPos == 0) {\n      separator = '';\n      textArr = txt.split(separator);\n      endPos = textArr.length - 1;\n    }\n\n    while (startPos <= endPos && !(startPos == 0 && endPos == 0)) {\n      var m = Math.floor((startPos + endPos) / 2);\n\n      if (m == midPos) {\n        break;\n      }\n\n      midPos = m;\n      setTextContent(e, textArr.slice(0, midPos + 1).join(separator) + o.ellipsis);\n\n      if (!test($i, o)) {\n        position = midPos;\n        startPos = midPos;\n      } else {\n        endPos = midPos; //\tFallback to letter\n\n        if (o.fallbackToLetter && startPos == 0 && endPos == 0) {\n          separator = '';\n          textArr = textArr[0].split(separator);\n          position = -1;\n          midPos = -1;\n          startPos = 0;\n          endPos = textArr.length - 1;\n        }\n      }\n    }\n\n    if (position != -1 && !(textArr.length == 1 && textArr[0].length == 0)) {\n      txt = addEllipsis(textArr.slice(0, position + 1).join(separator), o);\n      setTextContent(e, txt);\n    } else {\n      var $w = $e.parent();\n      $e.detach();\n      var afterLength = after && after.closest($w).length ? after.length : 0;\n\n      if ($w.contents().length > afterLength) {\n        e = findLastTextNode($w.contents().eq(-1 - afterLength), $d);\n      } else {\n        e = findLastTextNode($w, $d, true);\n\n        if (!afterLength) {\n          $w.detach();\n        }\n      }\n\n      if (e) {\n        txt = addEllipsis(getTextContent(e), o);\n        setTextContent(e, txt);\n\n        if (afterLength && after) {\n          $(e).parent().append(after);\n        }\n      }\n    }\n\n    return true;\n  }\n\n  function test($i, o) {\n    return $i.innerHeight() > o.maxHeight;\n  }\n\n  function addEllipsis(txt, o) {\n    while ($.inArray(txt.slice(-1), o.lastCharacter.remove) > -1) {\n      txt = txt.slice(0, -1);\n    }\n\n    if ($.inArray(txt.slice(-1), o.lastCharacter.noEllipsis) < 0) {\n      txt += o.ellipsis;\n    }\n\n    return txt;\n  }\n\n  function getSizes($d) {\n    return {\n      'width': $d.innerWidth(),\n      'height': $d.innerHeight()\n    };\n  }\n\n  function setTextContent(e, content) {\n    if (e.innerText) {\n      e.innerText = content;\n    } else if (e.nodeValue) {\n      e.nodeValue = content;\n    } else if (e.textContent) {\n      e.textContent = content;\n    }\n  }\n\n  function getTextContent(e) {\n    if (e.innerText) {\n      return e.innerText;\n    } else if (e.nodeValue) {\n      return e.nodeValue;\n    } else if (e.textContent) {\n      return e.textContent;\n    } else {\n      return \"\";\n    }\n  }\n\n  function getPrevNode(n) {\n    do {\n      n = n.previousSibling;\n    } while (n && n.nodeType !== 1 && n.nodeType !== 3);\n\n    return n;\n  }\n\n  function findLastTextNode($el, $top, excludeCurrent) {\n    var e = $el && $el[0],\n        p;\n\n    if (e) {\n      if (!excludeCurrent) {\n        if (e.nodeType === 3) {\n          return e;\n        }\n\n        if ($.trim($el.text())) {\n          return findLastTextNode($el.contents().last(), $top);\n        }\n      }\n\n      p = getPrevNode(e);\n\n      while (!p) {\n        $el = $el.parent();\n\n        if ($el.is($top) || !$el.length) {\n          return false;\n        }\n\n        p = getPrevNode($el[0]);\n      }\n\n      if (p) {\n        return findLastTextNode($(p), $top);\n      }\n    }\n\n    return false;\n  }\n\n  function getElement(e, $i) {\n    if (!e) {\n      return false;\n    }\n\n    if (typeof e === 'string') {\n      e = $(e, $i);\n      return e.length ? e : false;\n    }\n\n    return !e.jquery ? false : e;\n  }\n\n  function getTrueInnerHeight($el) {\n    var h = $el.innerHeight(),\n        a = ['paddingTop', 'paddingBottom'];\n\n    for (var z = 0, l = a.length; z < l; z++) {\n      var m = parseInt($el.css(a[z]), 10);\n\n      if (isNaN(m)) {\n        m = 0;\n      }\n\n      h -= m;\n    }\n\n    return h;\n  } //\toverride jQuery.html\n\n\n  var _orgHtml = $.fn.html;\n\n  $.fn.html = function (str) {\n    if (str != undef && !$.isFunction(str) && this.data('dotdotdot')) {\n      return this.trigger('update', [str]);\n    }\n\n    return _orgHtml.apply(this, arguments);\n  }; //\toverride jQuery.text\n\n\n  var _orgText = $.fn.text;\n\n  $.fn.text = function (str) {\n    if (str != undef && !$.isFunction(str) && this.data('dotdotdot')) {\n      str = $('<div />').text(str).html();\n      return this.trigger('update', [str]);\n    }\n\n    return _orgText.apply(this, arguments);\n  };\n};","map":{"version":3,"sources":["/Users/andela/space-invaders/node_modules/react-youtube-playlist/dist/utils/dotdotdot.js"],"names":["$","require","module","exports","undef","fn","dotdotdot","o","length","debug","selector","each","$dot","data","trigger","attr","css","bind_events","bind","e","c","preventDefault","stopPropagation","opts","maxHeight","height","getTrueInnerHeight","tolerance","HTMLElement","append","contents","orgContent","$inr","wrapInner","children","detach","end","clone","find","replaceWith","after","trunc","conf","afterElement","show","test","wrap","ellipsis","isFunction","callback","call","isTruncated","unwatch","unbind_events","unbind","watch","$window","window","_wWidth","width","_wHeight","dotId","windowResizeFix","watchInt","clearInterval","setTimeout","watchOrg","getSizes","setInterval","is","watchNew","extend","defaults","lastCharacter","remove","Array","defaultArrays","noEllipsis","getElement","msg","$elem","$elements","empty","a","l","$e","eq","$d","$i","notx","noty","nodeType","trim","ellipsisElement","txt","getTextContent","space","indexOf","separator","textArr","split","position","midPos","startPos","endPos","fallbackToLetter","m","Math","floor","setTextContent","slice","join","addEllipsis","$w","parent","afterLength","closest","findLastTextNode","innerHeight","inArray","innerWidth","content","innerText","nodeValue","textContent","getPrevNode","n","previousSibling","$el","$top","excludeCurrent","p","text","last","jquery","h","z","parseInt","isNaN","_orgHtml","html","str","apply","arguments","_orgText"],"mappings":"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","sourcesContent":["'use strict';\n\n/*\r\n *\tjQuery dotdotdot 1.7.0\r\n *\r\n *\tCopyright (c) Fred Heusschen\r\n *\twww.frebsite.nl\r\n *\r\n *\tPlugin website:\r\n *\tdotdotdot.frebsite.nl\r\n *\r\n *\tLicensed under the MIT license.\r\n *\thttp://en.wikipedia.org/wiki/MIT_License\r\n */\nvar $ = require('jquery');\n\nmodule.exports = function ($, undef) {\n\tif ($.fn.dotdotdot) {\n\t\treturn;\n\t}\n\n\t$.fn.dotdotdot = function (o) {\n\t\tif (this.length == 0) {\n\t\t\t$.fn.dotdotdot.debug('No element found for \"' + this.selector + '\".');\n\t\t\treturn this;\n\t\t}\n\t\tif (this.length > 1) {\n\t\t\treturn this.each(function () {\n\t\t\t\t$(this).dotdotdot(o);\n\t\t\t});\n\t\t}\n\n\t\tvar $dot = this;\n\n\t\tif ($dot.data('dotdotdot')) {\n\t\t\t$dot.trigger('destroy.dot');\n\t\t}\n\n\t\t$dot.data('dotdotdot-style', $dot.attr('style') || '');\n\t\t$dot.css('word-wrap', 'break-word');\n\t\tif ($dot.css('white-space') === 'nowrap') {\n\t\t\t$dot.css('white-space', 'normal');\n\t\t}\n\n\t\t$dot.bind_events = function () {\n\t\t\t$dot.bind('update.dot', function (e, c) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\topts.maxHeight = typeof opts.height == 'number' ? opts.height : getTrueInnerHeight($dot);\n\n\t\t\t\topts.maxHeight += opts.tolerance;\n\n\t\t\t\tif (typeof c != 'undefined') {\n\t\t\t\t\tif (typeof c == 'string' || c instanceof HTMLElement) {\n\t\t\t\t\t\tc = $('<div />').append(c).contents();\n\t\t\t\t\t}\n\t\t\t\t\tif (c instanceof $) {\n\t\t\t\t\t\torgContent = c;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$inr = $dot.wrapInner('<div class=\"dotdotdot\" />').children();\n\t\t\t\t$inr.contents().detach().end().append(orgContent.clone(true)).find('br').replaceWith('  <br />  ').end().css({\n\t\t\t\t\t'height': 'auto',\n\t\t\t\t\t'width': 'auto',\n\t\t\t\t\t'border': 'none',\n\t\t\t\t\t'padding': 0,\n\t\t\t\t\t'margin': 0\n\t\t\t\t});\n\n\t\t\t\tvar after = false,\n\t\t\t\t    trunc = false;\n\n\t\t\t\tif (conf.afterElement) {\n\t\t\t\t\tafter = conf.afterElement.clone(true);\n\t\t\t\t\tafter.show();\n\t\t\t\t\tconf.afterElement.detach();\n\t\t\t\t}\n\n\t\t\t\tif (test($inr, opts)) {\n\t\t\t\t\tif (opts.wrap == 'children') {\n\t\t\t\t\t\ttrunc = children($inr, opts, after);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttrunc = ellipsis($inr, $dot, $inr, opts, after);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$inr.replaceWith($inr.contents());\n\t\t\t\t$inr = null;\n\n\t\t\t\tif ($.isFunction(opts.callback)) {\n\t\t\t\t\topts.callback.call($dot[0], trunc, orgContent);\n\t\t\t\t}\n\n\t\t\t\tconf.isTruncated = trunc;\n\t\t\t\treturn trunc;\n\t\t\t}).bind('isTruncated.dot', function (e, fn) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\tif (typeof fn == 'function') {\n\t\t\t\t\tfn.call($dot[0], conf.isTruncated);\n\t\t\t\t}\n\t\t\t\treturn conf.isTruncated;\n\t\t\t}).bind('originalContent.dot', function (e, fn) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\tif (typeof fn == 'function') {\n\t\t\t\t\tfn.call($dot[0], orgContent);\n\t\t\t\t}\n\t\t\t\treturn orgContent;\n\t\t\t}).bind('destroy.dot', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\t$dot.unwatch().unbind_events().contents().detach().end().append(orgContent).attr('style', $dot.data('dotdotdot-style') || '').data('dotdotdot', false);\n\t\t\t});\n\t\t\treturn $dot;\n\t\t}; //\t/bind_events\n\n\t\t$dot.unbind_events = function () {\n\t\t\t$dot.unbind('.dot');\n\t\t\treturn $dot;\n\t\t}; //\t/unbind_events\n\n\t\t$dot.watch = function () {\n\t\t\t$dot.unwatch();\n\t\t\tif (opts.watch == 'window') {\n\t\t\t\tvar $window = $(window),\n\t\t\t\t    _wWidth = $window.width(),\n\t\t\t\t    _wHeight = $window.height();\n\n\t\t\t\t$window.bind('resize.dot' + conf.dotId, function () {\n\t\t\t\t\tif (_wWidth != $window.width() || _wHeight != $window.height() || !opts.windowResizeFix) {\n\t\t\t\t\t\t_wWidth = $window.width();\n\t\t\t\t\t\t_wHeight = $window.height();\n\n\t\t\t\t\t\tif (watchInt) {\n\t\t\t\t\t\t\tclearInterval(watchInt);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twatchInt = setTimeout(function () {\n\t\t\t\t\t\t\t$dot.trigger('update.dot');\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\twatchOrg = getSizes($dot);\n\t\t\t\twatchInt = setInterval(function () {\n\t\t\t\t\tif ($dot.is(':visible')) {\n\t\t\t\t\t\tvar watchNew = getSizes($dot);\n\t\t\t\t\t\tif (watchOrg.width != watchNew.width || watchOrg.height != watchNew.height) {\n\t\t\t\t\t\t\t$dot.trigger('update.dot');\n\t\t\t\t\t\t\twatchOrg = watchNew;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t\treturn $dot;\n\t\t};\n\t\t$dot.unwatch = function () {\n\t\t\t$(window).unbind('resize.dot' + conf.dotId);\n\t\t\tif (watchInt) {\n\t\t\t\tclearInterval(watchInt);\n\t\t\t}\n\t\t\treturn $dot;\n\t\t};\n\n\t\tvar orgContent = $dot.contents(),\n\t\t    opts = $.extend(true, {}, $.fn.dotdotdot.defaults, o),\n\t\t    conf = {},\n\t\t    watchOrg = {},\n\t\t    watchInt = null,\n\t\t    $inr = null;\n\n\t\tif (!(opts.lastCharacter.remove instanceof Array)) {\n\t\t\topts.lastCharacter.remove = $.fn.dotdotdot.defaultArrays.lastCharacter.remove;\n\t\t}\n\t\tif (!(opts.lastCharacter.noEllipsis instanceof Array)) {\n\t\t\topts.lastCharacter.noEllipsis = $.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis;\n\t\t}\n\n\t\tconf.afterElement = getElement(opts.after, $dot);\n\t\tconf.isTruncated = false;\n\t\tconf.dotId = dotId++;\n\n\t\t$dot.data('dotdotdot', true).bind_events().trigger('update.dot');\n\n\t\tif (opts.watch) {\n\t\t\t$dot.watch();\n\t\t}\n\n\t\treturn $dot;\n\t};\n\n\t//\tpublic\n\t$.fn.dotdotdot.defaults = {\n\t\t'ellipsis': '... ',\n\t\t'wrap': 'word',\n\t\t'fallbackToLetter': true,\n\t\t'lastCharacter': {},\n\t\t'tolerance': 0,\n\t\t'callback': null,\n\t\t'after': null,\n\t\t'height': null,\n\t\t'watch': false,\n\t\t'windowResizeFix': true\n\t};\n\t$.fn.dotdotdot.defaultArrays = {\n\t\t'lastCharacter': {\n\t\t\t'remove': [' ', '\\u3000', ',', ';', '.', '!', '?'],\n\t\t\t'noEllipsis': []\n\t\t}\n\t};\n\t$.fn.dotdotdot.debug = function (msg) {};\n\n\t//\tprivate\n\tvar dotId = 1;\n\n\tfunction children($elem, o, after) {\n\t\tvar $elements = $elem.children(),\n\t\t    isTruncated = false;\n\n\t\t$elem.empty();\n\n\t\tfor (var a = 0, l = $elements.length; a < l; a++) {\n\t\t\tvar $e = $elements.eq(a);\n\t\t\t$elem.append($e);\n\t\t\tif (after) {\n\t\t\t\t$elem.append(after);\n\t\t\t}\n\t\t\tif (test($elem, o)) {\n\t\t\t\t$e.remove();\n\t\t\t\tisTruncated = true;\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tif (after) {\n\t\t\t\t\tafter.detach();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn isTruncated;\n\t}\n\tfunction ellipsis($elem, $d, $i, o, after) {\n\t\tvar isTruncated = false;\n\n\t\t//\tDon't put the ellipsis directly inside these elements\n\t\tvar notx = 'table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style';\n\n\t\t//\tDon't remove these elements even if they are after the ellipsis\n\t\tvar noty = 'script, .dotdotdot-keep';\n\n\t\t$elem.contents().detach().each(function () {\n\n\t\t\tvar e = this,\n\t\t\t    $e = $(e);\n\n\t\t\tif (typeof e == 'undefined' || e.nodeType == 3 && $.trim(e.data).length == 0) {\n\t\t\t\treturn true;\n\t\t\t} else if ($e.is(noty)) {\n\t\t\t\t$elem.append($e);\n\t\t\t} else if (isTruncated) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\t$elem.append($e);\n\t\t\t\tif (after) {\n\t\t\t\t\t$elem[$elem.is(notx) ? 'after' : 'append'](after);\n\t\t\t\t}\n\t\t\t\tif (test($i, o)) {\n\t\t\t\t\tif (e.nodeType == 3) // node is TEXT\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisTruncated = ellipsisElement($e, $d, $i, o, after);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\tisTruncated = ellipsis($e, $d, $i, o, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!isTruncated) {\n\t\t\t\t\t\t$e.detach();\n\t\t\t\t\t\tisTruncated = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!isTruncated) {\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\tafter.detach();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn isTruncated;\n\t}\n\tfunction ellipsisElement($e, $d, $i, o, after) {\n\t\tvar e = $e[0];\n\n\t\tif (!e) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar txt = getTextContent(e),\n\t\t    space = txt.indexOf(' ') !== -1 ? ' ' : '\\u3000',\n\t\t    separator = o.wrap == 'letter' ? '' : space,\n\t\t    textArr = txt.split(separator),\n\t\t    position = -1,\n\t\t    midPos = -1,\n\t\t    startPos = 0,\n\t\t    endPos = textArr.length - 1;\n\n\t\t//\tOnly one word\n\t\tif (o.fallbackToLetter && startPos == 0 && endPos == 0) {\n\t\t\tseparator = '';\n\t\t\ttextArr = txt.split(separator);\n\t\t\tendPos = textArr.length - 1;\n\t\t}\n\n\t\twhile (startPos <= endPos && !(startPos == 0 && endPos == 0)) {\n\t\t\tvar m = Math.floor((startPos + endPos) / 2);\n\t\t\tif (m == midPos) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmidPos = m;\n\n\t\t\tsetTextContent(e, textArr.slice(0, midPos + 1).join(separator) + o.ellipsis);\n\n\t\t\tif (!test($i, o)) {\n\t\t\t\tposition = midPos;\n\t\t\t\tstartPos = midPos;\n\t\t\t} else {\n\t\t\t\tendPos = midPos;\n\n\t\t\t\t//\tFallback to letter\n\t\t\t\tif (o.fallbackToLetter && startPos == 0 && endPos == 0) {\n\t\t\t\t\tseparator = '';\n\t\t\t\t\ttextArr = textArr[0].split(separator);\n\t\t\t\t\tposition = -1;\n\t\t\t\t\tmidPos = -1;\n\t\t\t\t\tstartPos = 0;\n\t\t\t\t\tendPos = textArr.length - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (position != -1 && !(textArr.length == 1 && textArr[0].length == 0)) {\n\t\t\ttxt = addEllipsis(textArr.slice(0, position + 1).join(separator), o);\n\t\t\tsetTextContent(e, txt);\n\t\t} else {\n\t\t\tvar $w = $e.parent();\n\t\t\t$e.detach();\n\n\t\t\tvar afterLength = after && after.closest($w).length ? after.length : 0;\n\n\t\t\tif ($w.contents().length > afterLength) {\n\t\t\t\te = findLastTextNode($w.contents().eq(-1 - afterLength), $d);\n\t\t\t} else {\n\t\t\t\te = findLastTextNode($w, $d, true);\n\t\t\t\tif (!afterLength) {\n\t\t\t\t\t$w.detach();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (e) {\n\t\t\t\ttxt = addEllipsis(getTextContent(e), o);\n\t\t\t\tsetTextContent(e, txt);\n\t\t\t\tif (afterLength && after) {\n\t\t\t\t\t$(e).parent().append(after);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\tfunction test($i, o) {\n\t\treturn $i.innerHeight() > o.maxHeight;\n\t}\n\tfunction addEllipsis(txt, o) {\n\t\twhile ($.inArray(txt.slice(-1), o.lastCharacter.remove) > -1) {\n\t\t\ttxt = txt.slice(0, -1);\n\t\t}\n\t\tif ($.inArray(txt.slice(-1), o.lastCharacter.noEllipsis) < 0) {\n\t\t\ttxt += o.ellipsis;\n\t\t}\n\t\treturn txt;\n\t}\n\tfunction getSizes($d) {\n\t\treturn {\n\t\t\t'width': $d.innerWidth(),\n\t\t\t'height': $d.innerHeight()\n\t\t};\n\t}\n\tfunction setTextContent(e, content) {\n\t\tif (e.innerText) {\n\t\t\te.innerText = content;\n\t\t} else if (e.nodeValue) {\n\t\t\te.nodeValue = content;\n\t\t} else if (e.textContent) {\n\t\t\te.textContent = content;\n\t\t}\n\t}\n\tfunction getTextContent(e) {\n\t\tif (e.innerText) {\n\t\t\treturn e.innerText;\n\t\t} else if (e.nodeValue) {\n\t\t\treturn e.nodeValue;\n\t\t} else if (e.textContent) {\n\t\t\treturn e.textContent;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\tfunction getPrevNode(n) {\n\t\tdo {\n\t\t\tn = n.previousSibling;\n\t\t} while (n && n.nodeType !== 1 && n.nodeType !== 3);\n\n\t\treturn n;\n\t}\n\tfunction findLastTextNode($el, $top, excludeCurrent) {\n\t\tvar e = $el && $el[0],\n\t\t    p;\n\t\tif (e) {\n\t\t\tif (!excludeCurrent) {\n\t\t\t\tif (e.nodeType === 3) {\n\t\t\t\t\treturn e;\n\t\t\t\t}\n\t\t\t\tif ($.trim($el.text())) {\n\t\t\t\t\treturn findLastTextNode($el.contents().last(), $top);\n\t\t\t\t}\n\t\t\t}\n\t\t\tp = getPrevNode(e);\n\t\t\twhile (!p) {\n\t\t\t\t$el = $el.parent();\n\t\t\t\tif ($el.is($top) || !$el.length) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tp = getPrevNode($el[0]);\n\t\t\t}\n\t\t\tif (p) {\n\t\t\t\treturn findLastTextNode($(p), $top);\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tfunction getElement(e, $i) {\n\t\tif (!e) {\n\t\t\treturn false;\n\t\t}\n\t\tif (typeof e === 'string') {\n\t\t\te = $(e, $i);\n\t\t\treturn e.length ? e : false;\n\t\t}\n\t\treturn !e.jquery ? false : e;\n\t}\n\tfunction getTrueInnerHeight($el) {\n\t\tvar h = $el.innerHeight(),\n\t\t    a = ['paddingTop', 'paddingBottom'];\n\n\t\tfor (var z = 0, l = a.length; z < l; z++) {\n\t\t\tvar m = parseInt($el.css(a[z]), 10);\n\t\t\tif (isNaN(m)) {\n\t\t\t\tm = 0;\n\t\t\t}\n\t\t\th -= m;\n\t\t}\n\t\treturn h;\n\t}\n\n\t//\toverride jQuery.html\n\tvar _orgHtml = $.fn.html;\n\t$.fn.html = function (str) {\n\t\tif (str != undef && !$.isFunction(str) && this.data('dotdotdot')) {\n\t\t\treturn this.trigger('update', [str]);\n\t\t}\n\t\treturn _orgHtml.apply(this, arguments);\n\t};\n\n\t//\toverride jQuery.text\n\tvar _orgText = $.fn.text;\n\t$.fn.text = function (str) {\n\t\tif (str != undef && !$.isFunction(str) && this.data('dotdotdot')) {\n\t\t\tstr = $('<div />').text(str).html();\n\t\t\treturn this.trigger('update', [str]);\n\t\t}\n\t\treturn _orgText.apply(this, arguments);\n\t};\n};"]},"metadata":{},"sourceType":"script"}