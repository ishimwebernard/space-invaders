{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new Promise(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return Promise.resolve(value).then(function (value) {\n            step(\"next\", value);\n          }, function (err) {\n            step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n}\n\nrequire('isomorphic-fetch');\n\nrequire('es6-promise').polyfill();\n\nvar youTubeFetch = function () {\n  var _ref = _asyncToGenerator(_regenerator2.default.mark(function _callee(playlist_id, api_key, page_token) {\n    var base_url, config, url, result;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log('page token = ', page_token);\n            _context.prev = 1;\n            base_url = 'https://www.googleapis.com/youtube/v3';\n            config = {\n              method: 'GET',\n              mode: 'cors'\n            };\n            url = void 0;\n\n            if (page_token) {\n              url = base_url + '/playlistItems?&part=snippet&playlistId=' + playlist_id + '&pageToken=' + page_token + '&maxResults=50&key=' + api_key;\n            } else {\n              url = base_url + '/playlistItems?&part=snippet&playlistId=' + playlist_id + '&maxResults=50&key=' + api_key;\n            }\n\n            _context.next = 8;\n            return fetch(url, config);\n\n          case 8:\n            result = _context.sent;\n\n            if (!(result.status != 200)) {\n              _context.next = 11;\n              break;\n            }\n\n            return _context.abrupt('return', Promise.reject(result.error));\n\n          case 11:\n            _context.next = 13;\n            return result.json();\n\n          case 13:\n            return _context.abrupt('return', _context.sent);\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context['catch'](1);\n            throw new Error(_context.t0);\n\n          case 19:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, undefined, [[1, 16]]);\n  }));\n\n  return function youTubeFetch(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.default = youTubeFetch;","map":{"version":3,"sources":["/Users/andela/space-invaders/node_modules/react-youtube-playlist/dist/utils/youtube-fetch.js"],"names":["Object","defineProperty","exports","value","_regenerator","require","_regenerator2","_interopRequireDefault","obj","__esModule","default","_asyncToGenerator","fn","gen","apply","arguments","Promise","resolve","reject","step","key","arg","info","error","done","then","err","polyfill","youTubeFetch","_ref","mark","_callee","playlist_id","api_key","page_token","base_url","config","url","result","wrap","_callee$","_context","prev","next","console","log","method","mode","fetch","sent","status","abrupt","json","t0","Error","stop","undefined","_x","_x2","_x3"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nrequire('isomorphic-fetch');\nrequire('es6-promise').polyfill();\n\nvar youTubeFetch = function () {\n  var _ref = _asyncToGenerator(_regenerator2.default.mark(function _callee(playlist_id, api_key, page_token) {\n    var base_url, config, url, result;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log('page token = ', page_token);\n            _context.prev = 1;\n            base_url = 'https://www.googleapis.com/youtube/v3';\n            config = {\n              method: 'GET',\n              mode: 'cors'\n            };\n            url = void 0;\n\n            if (page_token) {\n              url = base_url + '/playlistItems?&part=snippet&playlistId=' + playlist_id + '&pageToken=' + page_token + '&maxResults=50&key=' + api_key;\n            } else {\n              url = base_url + '/playlistItems?&part=snippet&playlistId=' + playlist_id + '&maxResults=50&key=' + api_key;\n            }\n\n            _context.next = 8;\n            return fetch(url, config);\n\n          case 8:\n            result = _context.sent;\n\n            if (!(result.status != 200)) {\n              _context.next = 11;\n              break;\n            }\n\n            return _context.abrupt('return', Promise.reject(result.error));\n\n          case 11:\n            _context.next = 13;\n            return result.json();\n\n          case 13:\n            return _context.abrupt('return', _context.sent);\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context['catch'](1);\n            throw new Error(_context.t0);\n\n          case 19:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, undefined, [[1, 16]]);\n  }));\n\n  return function youTubeFetch(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.default = youTubeFetch;"]},"metadata":{},"sourceType":"script"}